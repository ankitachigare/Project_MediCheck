<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Live Lab Test Results</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            background-color: #ffffff;
            font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
        }
        h1 {
            text-align: center;
            font-size: 36px;
            font-weight: 700;
            background: linear-gradient(135deg, #00aaff, #0077cc);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 2px 2px 8px rgba(0, 170, 255, 0.4);

        }

        h2{
            text-align: center;
        }

        .login-container, .results-container {
            background: #ffffff;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.1);
            background: linear-gradient(135deg, #f2ffb1, #bee0f9);
        }
        .login-container {
            max-width: 400px;
            margin: 100px auto;
        }
        .btn-primary {
            background-color: #0078D4;
            border: none;
            border-radius: 8px;
        }
        .btn-primary:hover {
            background-color: #68ace0;
        }
        .table th {
            background-color: #fefcfce0;
            color: rgb(10, 10, 10);
        }
        .table tbody tr:hover {
            background-color: #2065ae !important;
            transition: background-color 0.3s ease-in-out;
        }
        .status-pending { color: #D8A100; }
        .status-progress { color: #0078D4; }
        .status-completed { color: #107C10; }
        .hidden { display: none; }
        .progress-bar {
            border-radius: 8px;
        }
        .btn-success {
            background-color: #107C10;
            border-radius: 8px;
        }
        .btn-secondary {
            border-radius: 8px;
        }
    </style>
</head>
<body class="container mt-4">
    <br><br><br><br><br>
    <h1>MEDICHECK</h1>

    <div id="loginPage" class="login-container">
        <h3 class="text-center">Login</h3>
        <h6>First login to view results.</h6>
        <input type="text" id="username" class="form-control mb-2" placeholder="Username">
        <input type="password" id="password" class="form-control mb-2" placeholder="Password">
        <button class="btn btn-primary w-100" onclick="login()">Login</button>
        <p id="errorMessage" class="text-danger text-center mt-2 hidden">Invalid credentials!</p>
    </div>

    <div id="resultsPage" class="results-container hidden">
        <h2 class="text-center mb-4">Live Test Results</h2>
        <div class="table-responsive">
            <table class="table table-bordered text-center">
                <thead>
                    <tr>
                        <th>Test Name</th>
                        <th>Sample ID</th>
                        <th>Collected On</th>
                        <th>Status</th>
                        <th>Progress</th>
                        <th>Report</th>
                    </tr>
                </thead>
                <tbody id="testResults">
                    <tr>
                        <td>Blood Test</td>
                        <td>#12345</td>
                        <td>March 5, 2025</td>
                        <td class="status-pending">ðŸŸ¡ Pending</td>
                        <td><div class="progress"><div class="progress-bar bg-warning" style="width: 10%;"></div></div></td>
                        <td><button class="btn btn-secondary" disabled>Download</button></td>
                    </tr>
                    <tr>
                        <td>COVID-19 Test</td>
                        <td>#67890</td>
                        <td>March 4, 2025</td>
                        <td class="status-progress">ðŸ”µ In Progress</td>
                        <td><div class="progress"><div class="progress-bar bg-info" style="width: 50%;"></div></div></td>
                        <td><button class="btn btn-secondary" disabled>Download</button></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <script>
        // Function to handle login functionality
        function login() {
            let username = document.getElementById("username").value;
            let password = document.getElementById("password").value;
            
            // Simple authentication check (dummy credentials)
            if (username === "user" && password === "password") {
                document.getElementById("loginPage").classList.add("hidden"); // Hide login page
                document.getElementById("resultsPage").classList.remove("hidden"); // Show results page
            } else {
                document.getElementById("errorMessage").classList.remove("hidden"); // Show error message
            }
        }
        function updateResults() {
    let rows = document.querySelectorAll("#testResults tr"); 

    rows.forEach(row => {
        let testName = row.children[0].textContent.trim(); // Get the test name
        let statusCell = row.children[3]; 
        let progressBar = row.children[4].querySelector(".progress-bar"); 
        let downloadBtn = row.children[5].querySelector("button"); 
        let reportFile = ""; 

        // Assign PDF based on test name
        if (testName === "Blood Test") {
            reportFile = "BLOODR.pdf"; 
        } else if (testName === "COVID-19 Test") {
            reportFile = "COVID (1).pdf"; 
        }

        if (statusCell.textContent.includes("Pending")) {
            statusCell.innerHTML = "ðŸ”µ In Progress"; 
            statusCell.className = "status-progress"; 
            progressBar.style.width = "50%"; 
            progressBar.classList.replace("bg-warning", "bg-info"); 
        } 
        else if (statusCell.textContent.includes("In Progress")) {
            statusCell.innerHTML = "âœ… Completed"; 
            statusCell.className = "status-completed"; 
            progressBar.style.width = "100%"; 
            progressBar.classList.replace("bg-info", "bg-success"); 

            downloadBtn.classList.replace("btn-secondary", "btn-success"); 
            downloadBtn.textContent = "Download Report"; 
            downloadBtn.disabled = false; 
            downloadBtn.onclick = function() {
                window.location.href = reportFile; // Assigns correct file for each test
            };
        }
    });
}

        
        // Automatically update test results every 11 seconds
        setInterval(updateResults, 11000);
        
      
    </script>
</body>
</html>
